---
id: index
title: 1.Adding List Page
tutorial:
    order: 0
    prev: false
    next: tutorial/adding-crud-pages/{preferredUI}/add-edit-page
---

## Overview

In [Unit 2](#), we created the CRUD pages automatically with Inferencer. In this unit, we will create the CRUD pages manually using the codes generated by Inferencer. So, you can customize the pages as you wish.

## Creating List Page

First, let's create our file under the `src/pages/posts` folder. We will name it `list.tsx`. Then, we will copy the list page code generated by Inferencer and paste it into the file.

To copy the code and paste it into the file, follow the steps below:

1- Navigate to the `localhost:3000/posts` in your browser.

2- Click on the "Show Code" button in the bottom right corner of the page.

3- You can see the list page code generated by Inferencer. Click on the "Copy" button to copy the code.

4- Paste the code into the you created, `list.tsx` file.

Here's what the code looks like:

```tsx title="src/pages/posts/list.tsx"
import React from "react";
import {
    IResourceComponentsProps,
    BaseRecord,
    useMany,
} from "@pankod/refine-core";
import {
    useTable,
    List,
    Table,
    Space,
    EditButton,
    ShowButton,
    DeleteButton,
    MarkdownField,
    DateField,
    ImageField,
    TagField,
} from "@pankod/refine-antd";

export const PostList: React.FC<IResourceComponentsProps> = () => {
    const { tableProps } = useTable({
        syncWithLocation: true,
    });

    const { data: categoryData, isLoading: categoryIsLoading } = useMany({
        resource: "categories",
        ids: tableProps?.dataSource?.map((item) => item?.category?.id) ?? [],
        queryOptions: {
            enabled: !!tableProps?.dataSource,
        },
    });

    const { data: userData, isLoading: userIsLoading } = useMany({
        resource: "users",
        ids: tableProps?.dataSource?.map((item) => item?.user?.id) ?? [],
        queryOptions: {
            enabled: !!tableProps?.dataSource,
        },
    });

    const { data: tagsData, isLoading: tagsIsLoading } = useMany({
        resource: "tags",
        ids: [].concat(
            ...(tableProps?.dataSource?.map((item) => item?.tags) ?? []),
        ),
        queryOptions: {
            enabled: !!tableProps?.dataSource,
        },
    });

    const { data: languageData, isLoading: languageIsLoading } = useMany({
        resource: "languages",
        ids: tableProps?.dataSource?.map((item) => item?.language) ?? [],
        queryOptions: {
            enabled: !!tableProps?.dataSource,
        },
    });

    return (
        <List>
            <Table {...tableProps} rowKey="id">
                <Table.Column dataIndex="id" title="Id" />
                <Table.Column dataIndex="title" title="Title" />
                <Table.Column dataIndex="slug" title="Slug" />
                <Table.Column
                    dataIndex="content"
                    title="Content"
                    render={(value: any) => (
                        <MarkdownField value={value.slice(0, 80) + "..."} />
                    )}
                />
                <Table.Column dataIndex="hit" title="Hit" />
                <Table.Column
                    dataIndex={["category", "id"]}
                    title="Category"
                    render={(value) =>
                        categoryIsLoading ? (
                            <>Loading...</>
                        ) : (
                            categoryData?.data?.find(
                                (item) => item.id === value,
                            )?.title
                        )
                    }
                />
                <Table.Column
                    dataIndex={["user", "id"]}
                    title="User"
                    render={(value) =>
                        userIsLoading ? (
                            <>Loading...</>
                        ) : (
                            userData?.data?.find((item) => item.id === value)
                                ?.firstName +
                            " " +
                            userData?.data?.find((item) => item.id === value)
                                ?.lastName
                        )
                    }
                />
                <Table.Column dataIndex="status" title="Status" />
                <Table.Column dataIndex="status_color" title="Status Color" />
                <Table.Column
                    dataIndex={["createdAt"]}
                    title="Created At"
                    render={(value: any) => <DateField value={value} />}
                />
                <Table.Column
                    dataIndex={["publishedAt"]}
                    title="Published At"
                    render={(value: any) => <DateField value={value} />}
                />
                <Table.Column
                    dataIndex="image"
                    title="Image"
                    render={(value: any[]) => (
                        <>
                            {value?.map((item, index) => (
                                <ImageField
                                    style={{ maxWidth: "100px" }}
                                    value={item?.url}
                                    key={index}
                                />
                            ))}
                        </>
                    )}
                />
                <Table.Column
                    dataIndex="tags"
                    title="Tags"
                    render={(value: any[]) =>
                        tagsIsLoading ? (
                            <>Loading...</>
                        ) : (
                            <>
                                {value?.map((item, index) => (
                                    <TagField
                                        key={index}
                                        value={
                                            tagsData?.data?.find(
                                                (resourceItems) =>
                                                    resourceItems.id === item,
                                            )?.title
                                        }
                                    />
                                ))}
                            </>
                        )
                    }
                />
                <Table.Column
                    dataIndex={["language"]}
                    title="Language"
                    render={(value) =>
                        languageIsLoading ? (
                            <>Loading...</>
                        ) : (
                            languageData?.data?.find(
                                (item) => item.id === value,
                            )?.title
                        )
                    }
                />
                <Table.Column
                    title="Actions"
                    dataIndex="actions"
                    render={(_, record: BaseRecord) => (
                        <Space>
                            <EditButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                            <ShowButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                            <DeleteButton
                                hideText
                                size="small"
                                recordItemId={record.id}
                            />
                        </Space>
                    )}
                />
            </Table>
        </List>
    );
};
```

Instead of coding the list page component from scratch, Inferencer've created the required code base on API response, so that we can customize.

## Understanding the List Component

-   `<List/>` is a **refine** component that is used to presentation purposes like showing "Create Button" or page title etc.

Refer to the [`<List/>`](/docs/api-reference/antd/components/basic-views/list) documentation for more information.

-   `<Table/>` is a native **Ant Design** component. It renders records row by row as a table.

> `<Table/>` expects a `rowKey` prop as the unique key of the records. In this example, we use `id` field as the `rowKey`.

You can find more information about `<Table/>` component from [Ant Design Table](https://ant.design/components/table/).

-   `useTable` hook returns the values needed by the `<Table/>` component in the `tableProps` variable.

This is the point where the ✨real magic✨ happens!

`useTable` hook fetches data from API and wraps them with various helper hooks required for the `<Table/>` component. Data interaction functions like sorting, filtering, and pagination will be instantly available on the `<Table/>` with this single line of code.

You can find more information about `useTable` hook from [useTable](/docs/api-reference/antd/hooks/table/useTable/).

-   `<Table.Column/>` is a native **Ant Design** component. It renders a column in the table.

    -   `dataIndex` prop is used to specify the field of the record that will be rendered in this column.
    -   `render` prop is used to render custom content in the column. In this example, we use `render` prop to render the `content` field using `<MarkdownField/>` component. You can find more information about `<MarkdownField/>` and other field components from [Field Components](/docs/api-reference/antd/components/fields/markdown/).

-   `<EditButton/>` and `<ShowButton/>` are **refine** components that are used to navigate to the edit and show pages of the record.

-   `<DeleteButton/>` is a **refine** component that is used to delete the record.

-   `useMany` hook is used to fetch the related data of the records. In this example, we use `useMany` hook to fetch the `category`, `user`, `tags`, and `language` fields of the records to show them in the table.

We will cover in detail the handling of related data in the "[Handling Relationships](/docs/tutorial/adding-crud-pages/antd/handling-relationships)" section.

## Adding the List Page to the App

Now that we have created the list page, we need to add it to the `App.tsx` file.

1- Open `src/App.tsx` file on your editor.

2- Import the created `PostList` component.

3- Replace the `AntdInferencer` component with the `PostList` component.

```tsx title="src/App.tsx"
import { Refine } from "@pankod/refine-core";
import {
    Layout,
    ReadyPage,
    notificationProvider,
    ErrorComponent,
} from "@pankod/refine-antd";
import routerProvider from "@pankod/refine-react-router-v6";
import dataProvider from "@pankod/refine-simple-rest";
import { AntdInferencer } from "@pankod/refine-inferencer/antd";

//highlight-next-line
import { PostList } from "pages/posts/list";

import "@pankod/refine-antd/dist/reset.css";

const App: React.FC = () => {
    return (
        <Refine
            routerProvider={routerProvider}
            dataProvider={dataProvider("https://api.fake-rest.refine.dev")}
            Layout={Layout}
            ReadyPage={ReadyPage}
            notificationProvider={notificationProvider}
            catchAll={<ErrorComponent />}
            resources={[
                {
                    name: "posts",
                    //highlight-next-line
                    list: PostList,
                    edit: AntdInferencer,
                    show: AntdInferencer,
                    create: AntdInferencer,
                },
            ]}
        />
    );
};
export default App;
```

**_Checklist for moving on_**

-   [x] List page oluşturulması kavramını anladım
